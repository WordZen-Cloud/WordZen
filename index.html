<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="manifest" href="manifest.json">
    <title>WordZen</title>
    <style>
        body { 
            margin: 0; background: #000; color: white; overflow: hidden;
            font-family: 'Segoe UI', sans-serif; display: flex; flex-direction: column; align-items: center; 
            background-size: cover; background-position: center; transition: background-image 1.5s ease;
        }
        /* Splash Screen Animasyonu */
        #splash { 
            position: fixed; inset: 0; background: #000; z-index: 2000; 
            display: flex; justify-content: center; align-items: center;
            transition: opacity 1s ease-out;
        }
        .s-logo { 
            font-size: 3.5rem; font-weight: 200; color: #fff; letter-spacing: 15px; 
            opacity: 0; transform: scale(0.8);
            animation: zenFade 4.5s ease-in-out forwards; 
        }
        @keyframes zenFade {
            0% { opacity: 0; transform: scale(0.8); letter-spacing: 5px; }
            40% { opacity: 1; transform: scale(1); letter-spacing: 15px; }
            80% { opacity: 1; transform: scale(1); letter-spacing: 15px; }
            100% { opacity: 0; transform: scale(1.1); letter-spacing: 20px; }
        }
        /* ArayÃ¼z */
        #top-bar { width: 100%; padding: 25px; display: flex; justify-content: space-between; box-sizing: border-box; z-index: 100; }
        .info { font-size: 1.1rem; letter-spacing: 2px; font-weight: 300; }
        #word-container { margin-top: 80px; display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; padding: 0 20px; }
        .letter-box { 
            width: 35px; height: 45px; border-bottom: 2px solid rgba(255,255,255,0.4); 
            display: flex; align-items: center; justify-content: center;
            font-size: 1.6rem; font-weight: 400; text-transform: uppercase;
        }
        .filled { border-bottom: 2px solid #fff; animation: pop 0.2s ease; }
        @keyframes pop { 0% { transform: translateY(5px); } 100% { transform: translateY(0); } }
        /* Klavye */
        #keyboard { position: fixed; bottom: 30px; display: grid; grid-template-columns: repeat(10, 1fr); gap: 5px; padding: 10px; width: 95%; }
        button.key { padding: 15px 0; border: none; border-radius: 4px; background: rgba(255,255,255,0.1); color: white; cursor: pointer; font-size: 14px; }
        button.key:active { background: rgba(255,255,255,0.3); }
        .del { grid-column: span 2; background: rgba(255, 50, 50, 0.3) !important; }
    </style>
</head>
<body>
    <div id="splash"><div class="s-logo">WORDZEN</div></div>
    <div id="top-bar">
        <div class="info" id="lvl-txt">BÃ–LÃœM 1</div>
        <div class="info">ðŸª™ <span id="coins">150</span></div>
    </div>
    <div id="word-container"></div>
    <div id="keyboard"></div>

    <script>
        // Service Worker KaydÄ±
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => { navigator.serviceWorker.register('./sw.js'); });
        }

        // 100 SEVÄ°YELÄ°K KELÄ°ME LÄ°STESÄ°
        const levels = [
            {a:"KALE", h:[0]}, {a:"SAAT", h:[0,2]}, {a:"KAPI", h:[0,3]}, {a:"PARA", h:[1,2]}, {a:"ADET", h:[0,2]},
            {a:"KÄ°TAP", h:[0,4]}, {a:"KALEM", h:[0,2]}, {a:"DENÄ°Z", h:[0,3]}, {a:"ÅžEHÄ°R", h:[1,4]}, {a:"GÃœNEÅž", h:[0,2]},
            {a:"BARDAK", h:[0,3,5]}, {a:"YAPRAK", h:[1,4]}, {a:"GÃ–ZLÃœK", h:[0,3]}, {a:"SULTAN", h:[2,5]}, {a:"PEYNÄ°R", h:[0,4]},
            {a:"ZEYTÄ°N", h:[1,3,5]}, {a:"TOPRAK", h:[0,4]}, {a:"MUTFAK", h:[2,5]}, {a:"SÃ–ZLÃœK", h:[0,3]}, {a:"KANDÄ°L", h:[1,4]},
            {a:"TELEFON", h:[0,2,6]}, {a:"PENCERE", h:[0,4,6]}, {a:"MERHABA", h:[0,3,5]}, {a:"LOKANTA", h:[1,4,6]}, {a:"GÃ–KYÃœZÃœ", h:[0,3,6]},
            {a:"PORTAKAL", h:[0,3,7]}, {a:"YUMURTA", h:[1,4,6]}, {a:"KELEBEK", h:[0,3,5]}, {a:"AYAKKABI", h:[0,4,7]}, {a:"Ã‡Ä°KOLATA", h:[0,3,6]},
            {a:"HAYVANAT", h:[1,4,7]}, {a:"GÃ–KKUÅžAÄžI", h:[0,3,5,8]}, {a:"KERESTE", h:[1,4]}, {a:"MAKARNA", h:[2,5]}, {a:"SANDALYE", h:[0,4,7]},
            {a:"DOMATES", h:[0,3]}, {a:"IHLAMUR", h:[1,4,6]}, {a:"KARANLIK", h:[0,3,6]}, {a:"MANZARA", h:[1,4,6]}, {a:"TEHLÄ°KE", h:[2,5]},
            {a:"ZÄ°YARET", h:[0,4]}, {a:"Ã–ZGÃœRLÃœK", h:[0,3,7]}, {a:"Ä°STANBUL", h:[0,4,7]}, {a:"ANKARA", h:[1,3,5]}, {a:"HAYALET", h:[0,3]},
            {a:"Ã‡ERÃ‡EVE", h:[1,4,6]}, {a:"MÃœCEVHER", h:[0,3,7]}, {a:"GÃœVERCÄ°N", h:[1,4,6]}, {a:"SAÄžANAK", h:[0,3,6]}, {a:"TÃœRKÄ°YE", h:[1,4,6]},
            {a:"BÄ°LGÄ°SAYAR", h:[0,3,6,9]}, {a:"TELEVÄ°ZYON", h:[0,4,8]}, {a:"CUMHURÄ°YET", h:[0,5,9]}, {a:"ÃœNÄ°VERSÄ°TE", h:[0,4,7]}, {a:"MÃœHENDÄ°SLÄ°K", h:[0,5,10]},
            {a:"KÃœRESELLEÅžME", h:[0,5,11]}, {a:"MEDENÄ°YET", h:[1,4,8]}, {a:"KÃœTÃœPHANE", h:[0,4,8]}, {a:"DENEYÄ°MLÄ°", h:[1,4,7]}, {a:"OYUNCAKÃ‡I", h:[0,3,8]},
            {a:"KIRMIZIGÃœL", h:[0,4,9]}, {a:"YALNIZLIK", h:[1,5,8]}, {a:"SÄ°YASETÃ‡Ä°", h:[0,4,7]}, {a:"GELENEKSEL", h:[1,5,9]}, {a:"HAYALPEREST", h:[0,4,10]},
            {a:"SORUMLULUK", h:[1,4,9]}, {a:"Ã‡ALIÅžKANLIK", h:[0,5,10]}, {a:"DÃœRÃœSTLÃœK", h:[0,4,8]}, {a:"YETENEKLÄ°", h:[1,4,7]}, {a:"HOÅžGÃ–RÃœLÃœ", h:[0,4,8]},
            {a:"FARKINDALIK", h:[1,5,10]}, {a:"MÃœSAMAHA", h:[0,3,7]}, {a:"KIYASLAMA", h:[1,4,8]}, {a:"SAYGIDEÄžER", h:[0,5,9]}, {a:"MUHTEÅžEM", h:[1,4,7]},
            {a:"TEÅžEKKÃœRLER", h:[0,4,9]}, {a:"ARKADAÅžLIK", h:[1,5,9]}, {a:"HOÅžGELDÄ°NÄ°Z", h:[0,4,10]}, {a:"MÄ°SAFÄ°RPERVER", h:[0,6,12]}, {a:"YARATICILIK", h:[1,6,10]},
            {a:"KANALÄ°ZASYON", h:[0,4,8,11]}, {a:"KÃœRESELLEÅžME", h:[1,6,11]}, {a:"DEMOKRATÄ°KLEÅžME", h:[0,6,12]}, {a:"KÄ°ÅžÄ°SELLEÅžTÄ°RME", h:[1,7,14]}, {a:"YAPISALLAÅžTIRMA", h:[0,7,14]},
            {a:"ZENGÄ°NLEÅžTÄ°RME", h:[1,8,14]}, {a:"SADAKATSÄ°ZLÄ°K", h:[0,6,12]}, {a:"MÃœKEMMELÄ°YETÃ‡Ä°", h:[1,7,13]}, {a:"Ä°NSANLAÅžTIRMA", h:[0,6,11]}, {a:"SAYDAMLAÅžTIRMA", h:[1,7,13]},
            {a:"DÃœÅžÃœNDÃœRÃœCÃœ", h:[0,5,10]}, {a:"MERAKLANDIRMAK", h:[1,7,12]}, {a:"COÄžRAFYACILAR", h:[0,6,12]}, {a:"SABIRSIZLANMAK", h:[1,7,12]}, {a:"HAYAL KIRIKLIÄžI", h:[0,6,11]},
            {a:"KARÅžILAÅžTIRMA", h:[1,7,12]}, {a:"ELEKTROMANYETÄ°K", h:[0,7,14]}, {a:"HAREKETLÄ°LÄ°K", h:[1,6,11]}, {a:"SÃœRDÃœRÃœLEBÄ°LÄ°R", h:[0,7,13]}, {a:"KOLAYLAÅžTIRICI", h:[1,7,13]}
        ];

        let currentLevel = parseInt(localStorage.getItem('wz_save')) || 0;
        let userGuess = [];

        function initGame() {
            const level = levels[currentLevel % levels.length];
            document.getElementById('lvl-txt').innerText = `BÃ–LÃœM ${currentLevel + 1}`;
            document.body.style.backgroundImage = `linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)), url('https://picsum.photos/1080/1920?sig=${currentLevel}')`;
            
            const container = document.getElementById('word-container');
            container.innerHTML = ""; userGuess = [];

            level.a.split('').forEach((char, i) => {
                const box = document.createElement('div');
                box.className = 'letter-box';
                if (level.h.includes(i)) { box.innerText = char; userGuess[i] = char; }
                else { box.innerText = ""; userGuess[i] = null; }
                container.appendChild(box);
            });
        }

        const alphabet = "ABCÃ‡DEFGÄžHIÄ°JKLMNOÃ–PRSÅžTUÃœVYZ";
        const kbd = document.getElementById('keyboard');
        alphabet.split('').forEach(l => {
            const b = document.createElement('button');
            b.className = 'key'; b.innerText = l;
            b.onclick = () => {
                let empty = userGuess.indexOf(null);
                if(empty !== -1) {
                    userGuess[empty] = l;
                    const boxes = document.getElementsByClassName('letter-box');
                    boxes[empty].innerText = l; boxes[empty].classList.add('filled');
                    if(!userGuess.includes(null)) check();
                }
            };
            kbd.appendChild(b);
        });

        const del = document.createElement('button');
        del.className = 'key del'; del.innerText = "SÄ°L";
        del.onclick = () => {
            for(let i=userGuess.length-1; i>=0; i--) {
                if(!levels[currentLevel % levels.length].h.includes(i) && userGuess[i] !== null) {
                    userGuess[i] = null;
                    const boxes = document.getElementsByClassName('letter-box');
                    boxes[i].innerText = ""; boxes[i].classList.remove('filled');
                    break;
                }
            }
        };
        kbd.appendChild(del);

        function check() {
            if(userGuess.join('') === levels[currentLevel % levels.length].a) {
                currentLevel++;
                localStorage.setItem('wz_save', currentLevel);
                setTimeout(initGame, 800);
            }
        }

        window.onload = () => {
            setTimeout(() => {
                const s = document.getElementById('splash');
                s.style.opacity = "0";
                setTimeout(() => s.style.display = "none", 1000);
            }, 4500);
            initGame();
        };
    </script>
</body>
</html>

