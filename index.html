<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>WordZen</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@800&display=swap" rel="stylesheet">
    <style>
        * { -webkit-tap-highlight-color: transparent; outline: none; box-sizing: border-box; }
        html, body { width: 100%; height: 100%; margin: 0; padding: 0; overflow: hidden; background: #000; font-family: 'Montserrat', sans-serif; }
        body { background-size: cover; background-position: center; display: flex; flex-direction: column; align-items: center; transition: background-image 1.5s ease-in-out; }

        /* Gƒ∞Rƒ∞≈û ANƒ∞MASYONU */
        #splash-screen { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; z-index: 9999; display: flex; align-items: center; justify-content: center; transition: opacity 1.2s ease; }
        .splash-logo { font-size: 3.5rem; color: #fff; letter-spacing: 10px; text-transform: uppercase; animation: intro-zoom 3s ease-in-out infinite; }
        @keyframes intro-zoom { 0% { transform: scale(0.8); opacity: 0; } 50% { transform: scale(1); opacity: 1; text-shadow: 0 0 30px #fff; } 100% { transform: scale(1.1); opacity: 0; } }

        #header-logo { margin-top: 25px; font-size: 2rem; color: #fff; letter-spacing: 6px; font-weight: 800; text-transform: uppercase; }

        /* SAƒû PANEL (AMPUL VE GE√á BUTONU) */
        .top-panel { position: absolute; top: 20px; right: 15px; display: flex; flex-direction: column; align-items: flex-end; gap: 12px; z-index: 100; }
        .stat-item { background: rgba(255, 255, 255, 0.15); padding: 8px 15px; border-radius: 20px; border: 1px solid rgba(255, 255, 255, 0.3); color: #fff; font-weight: bold; font-size: 1rem; backdrop-filter: blur(10px); }
        
        #hint-btn { cursor: pointer; border-color: #ffcc00; color: #ffcc00; }
        #skip-btn-trigger { cursor: pointer; border-color: #ff4b2b; color: #ff4b2b; font-size: 0.8rem; background: rgba(255, 75, 43, 0.1); }

        #word-display { display: flex; gap: 8px; margin-top: 50px; flex-wrap: wrap; justify-content: center; width: 95%; }
        .letter-box { width: 44px; height: 55px; background: #fff; color: #000; border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 1.8rem; font-weight: 900; position: relative; box-shadow: 0 4px 10px rgba(0,0,0,0.3); }

        #clue-container { margin-top: 40px; width: 88%; min-height: 90px; background: rgba(0, 0, 0, 0.6); padding: 20px; border-radius: 25px; text-align: center; border: 1px solid rgba(255, 255, 255, 0.1); color: #fff; font-size: 1.1rem; backdrop-filter: blur(20px); display: flex; align-items: center; justify-content: center; }

        /* ≈ûIK MODALLAR (ONAY VE TEBRƒ∞KLER) */
        .custom-modal { display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 320px; background: rgba(20, 20, 20, 0.95); border: 1px solid rgba(255,255,255,0.2); border-radius: 30px; text-align: center; z-index: 2000; padding: 30px; backdrop-filter: blur(15px); }
        .modal-btns { display: flex; gap: 10px; margin-top: 25px; }
        .btn { flex: 1; padding: 15px; border-radius: 15px; border: none; font-weight: 900; cursor: pointer; font-size: 1rem; }
        .btn-yes { background: #39FF14; color: #000; }
        .btn-no { background: #ff4b2b; color: #fff; }
        .btn-next { background: #fff; color: #000; width: 100%; }

        #hidden-input { position: absolute; top: -200px; opacity: 0; }
        .cursor::after { content: ''; position: absolute; bottom: 8px; width: 50%; height: 3px; background: #000; animation: blink 0.8s infinite; }
        @keyframes blink { 50% { opacity: 0; } }
        .correct-neon { background: #39FF14 !important; box-shadow: 0 0 20px #39FF14; transition: 0.5s; }
    </style>
</head>
<body onclick="handleGlobalClick()">

    <div id="splash-screen"><div class="splash-logo">WordZen</div></div>
    <div id="header-logo">WordZen</div>

    <div class="top-panel">
        <div class="stat-item" style="border-color: #fff;">ü™ô <span id="coin-count">0</span></div>
        <div class="stat-item" id="hint-btn" onclick="useHint()">üí° ƒ∞PUCU (10)</div>
        <div class="stat-item" id="skip-btn-trigger" onclick="openSkipModal()">‚è≠Ô∏è GE√á (25)</div>
        <div class="stat-item" style="font-size: 0.8rem; opacity: 0.7;">LVL: <span id="lvl-txt">1</span></div>
    </div>
    
    <div id="word-display" onclick="focusInput()"></div>
    <div id="clue-container"><div id="clue-text">...</div></div>

    <div id="skip-modal" class="custom-modal">
        <h3 style="color: #fff;">B√ñL√úM√ú GE√á?</h3>
        <p style="color: #aaa;">25 Jeton kar≈üƒ±lƒ±ƒüƒ±nda cevabƒ± g√∂r√ºp ge√ßmek istiyor musun?</p>
        <div class="modal-btns">
            <button class="btn btn-no" onclick="closeSkipModal()">HAYIR</button>
            <button class="btn btn-yes" onclick="confirmSkip()">EVET</button>
        </div>
    </div>

    <div id="win-modal" class="custom-modal">
        <h2 style="color: #fff;">TEBRƒ∞KLER!</h2>
        <p id="win-msg" style="color: #ccc;">+5 Jeton Kazandƒ±n ü™ô</p>
        <button class="btn btn-next" onclick="nextLevel()">DEVAM ET</button>
    </div>

    <input type="text" id="hidden-input" autocomplete="off" spellcheck="false">
    
    <audio id="bg-music" src="fon-muzigi.mp3" loop></audio>
    <audio id="true-sound" src="dogru.mp3"></audio>
    <audio id="false-sound" src="yanlis.mp3"></audio>

    <script>
        let coins = parseInt(localStorage.getItem('wordzen_coins')) || 30;
        let currentLevel = parseInt(localStorage.getItem('wordzen_level')) || 0;
        const bgMusic = document.getElementById('bg-music');
        const trueSnd = document.getElementById('true-sound');
        const falseSnd = document.getElementById('false-sound');
        let musicStarted = false;

        const levels = [
           {a: "AƒûA√á", m: "g√∂vdesi odun olan bitki."}, {a: "ALTIN", m: "deƒüerli sarƒ± maden."}, {a: "ANNE", m: "Cennetin ayaklarƒ±nƒ±n altƒ±nda olduƒüu m√ºjdelenen ki≈üi."}, {a: "ARABA", m: "4 tekerlekli genellikle √ºst√º kapalƒ± olan ta≈üƒ±t."}, {a: "BALIK", m: "Nefes almak i√ßin suya muhta√ß olan canlƒ±."}, {a: "BEBEK", m: "k√º√ß√ºk √ßocuk."}, {a: "BEYƒ∞N", m: "sinir sisteminin merkezi."}, {a: "Bƒ∞LGƒ∞", m: "√ñƒürenilen her ≈üeyin toplamƒ±, ba≈üarƒ±nƒ±n anahtarƒ±."}, {a: "BULUT", m: "g√∂ky√ºz√ºndeki su buharƒ±."}, {a: "√áANTA", m: "ƒ∞√ßine e≈üya konur elde ya da omuzda ta≈üƒ±nƒ±r."}, {a: "√áƒ∞√áEK", m: "Bitkilerin √ºreme organƒ± olan kƒ±sƒ±m."}, {a: "√áOCUK", m: "hen√ºz b√ºy√ºyememi≈ü birey"}, {a: "DENƒ∞Z", m: "geni≈ü tuzlu su k√ºtlesi."}, {a: "DEFTER", m: "Bilgilerin d√ºzenli ≈üekilde tutulduƒüu kaƒüƒ±tlar b√ºt√ºn√º."}, {a: "DOST", m: "Baƒü kurulan samimi insan"}, {a: "DUVAR", m: "Mekanlarƒ± sƒ±nƒ±rlandƒ±ran sabit yapƒ± √∂ƒüesi."}, {a: "ELMA", m: "Kƒ±rmƒ±zƒ± ye≈üil ya da sarƒ± olabilen tatlƒ± bir meyve."}, {a: "EV", m: "G√ºnl√ºk hayatƒ±n ge√ßtiƒüi ya≈üam alanƒ±."}, {a: "FENER", m: "pil ile √ßalƒ±≈üan aydƒ±nlatma aracƒ±."}, {a: "GEMƒ∞", m: "Uzun yolculuklar yapan b√ºy√ºk su ta≈üƒ±tƒ±"}, {a: "G√ñZ", m: "g√∂rme organƒ±."}, {a: "G√úNE≈û", m: "d√ºnyayƒ± aydƒ±nlatan yƒ±ldƒ±z."}, {a: "HAVA", m: "Canlƒ± ya≈üamƒ± i√ßin gerekli gaz ."}, {a: "HAYAT", m: "Doƒüumdan √∂l√ºme kadar ge√ßen zaman."}, {a: "IRMAK", m: "b√ºy√ºk akarsu."}, {a: "I≈ûIK", m: "g√∂rmeyi saƒülayan enerji."}, {a: "KALEM", m: "D√º≈ü√ºnceleri yazƒ±ya d√∂kmeye yarayan ara√ß."}, {a: "KAPI", m: "giri≈ü √ßƒ±kƒ±≈ü b√∂l√ºm√º."}, {a: "KEDƒ∞", m: "Fare avlayan evcil canlƒ±."}, {a: "Kƒ∞TAP", m: "basƒ±lƒ± eser."}, {a: "K√ñPR√ú", m: "iki yeri baƒülayan yapƒ±."}, {a: "KU≈û", m: "u√ßabilen hayvan."}, {a: "MASA", m: "√ºst√ºne e≈üya konulan mobilya."}, {a: "OKUL", m: "eƒüitim verilen yer."}, {a: "OYUN", m: "eƒülence amacƒ±yla yapƒ±lan etkinlik."}, {a: "PENCERE", m: "ƒ±≈üƒ±k alan a√ßƒ±klƒ±k."},{a: "SU", m: "ya≈üam i√ßin gerekli sƒ±vƒ±."}, {a: "TOP", m: "yuvarlak oyun aracƒ±."}, {a: "UYKU", m: "dinlenme hali."}, {a: "YAZI", m: "harflerle anlatƒ±m."}, {a: "YILDIZ", m: "g√∂kteki ƒ±≈üƒ±klƒ± cisim."}, {a: "YOL", m: "ula≈üƒ±m yolu."}, {a: "KUM", m: "ince taneli toprak par√ßasƒ±."},{a: "MUTFAK", m: "yemek yapƒ±lan yer."}, {a: "Bƒ∞BER", m: "acƒ± veya tatlƒ± baharat."}, {a: "SAKIZ", m: "√ßiƒünenen tatlƒ± madde."}, {a: "√áATI", m: "binanƒ±n √ºst √∂rt√ºs√º."}, {a: "YASTIK", m: "ba≈ü altƒ±na konan yumu≈üak e≈üya."}, {a: "Kƒ∞RPƒ∞", m: "dikenli k√º√ß√ºk hayvan."}, {a: "OYUNCAK", m: "√ßocuklarƒ±n oynadƒ±ƒüƒ± e≈üya."}, {a: "√áAY", m: "sƒ±cak i√ßecek."}, {a: "G√ñL", m: "karada biriken su."}, {a: "KART", m: "bilgi veya √∂deme aracƒ±."}, {a: "M√úZƒ∞K", m: "sesle yapƒ±lan sanat."}, {a: "Sƒ∞NEK", m: "u√ßan k√º√ß√ºk b√∂cek."}, {a: "BALON", m: "gazla ≈üi≈üen oyuncak."}, {a: "YOL", m: "ula≈üƒ±m yapƒ±lan yer."}, {a: "B√úY√úKADA", m: "istanbulda bir ada."}, {a: "MAYMUN", m: "memeli hayvan."}, {a: "K√ñPR√ú", m: "iki yeri baƒülayan yapƒ±."}, {a: "HAVA", m: "ya≈üam i√ßin gerekli gaz."}, {a: "K√ñPEK", m: "evcil hayvan."}, {a: "√áORAP", m: "ayaƒüƒ± √∂rten giysi."},{a: "Bƒ∞LGƒ∞SAYAR", m: "veri i≈üleyen cihaz."}, {a: "FOTOƒûRAF", m: "resim veya g√∂r√ºnt√º kaydƒ±."}, {a: "MOTOR", m: "ara√ßlarƒ±n hareket etmesini saƒülayan makine."}, {a: "≈ûEMSƒ∞YE", m: "yaƒümurdan koruyan ara√ß."}, {a: "LAMBA", m: "ƒ±≈üƒ±k veren nesne."}, {a: "Bƒ∞YOLOJƒ∞", m: "canlƒ±larƒ± inceleyen bilim."}, {a: "TAV≈ûAN", m: "kemirgen t√ºr√º hayvan."}, {a: "≈ûEHƒ∞R", m: "√ßok ki≈üinin ya≈üadƒ±ƒüƒ± yer."}, {a: "KUYRUK", m: "hayvanƒ±n arka kƒ±smƒ±."}, {a: "YILDIZ", m: "g√∂ky√ºz√ºndeki parlak cisim."}, {a: "YUMURTA", m: "tavuk ve ku≈ülarƒ±n √ºr√ºn√º."}, {a: "Bƒ∞BERON", m: "bebek besleme aracƒ±."}, {a: "√á√ñP", m: "atƒ±k madde."}, {a: "MUTLULUK", m: "iyi hissetme durumu."}, {a: "G√ñZL√úK", m: "g√∂rmeyi kolayla≈ütƒ±ran ara√ß."}, {a: "√áƒ∞Zƒ∞M", m: "resim yapma i≈üi."}, {a: "AYAKKABI", m: "ayak koruyucu giysi."}, {a: "T√úRKƒ∞YE", m: "√ºlke adƒ±."}, {a: "Bƒ∞RLƒ∞K", m: "bir araya gelme durumu."}, {a: "√áORBA", m: "sƒ±vƒ± yemek."}, {a: "KUMANDA", m: "cihazƒ± kontrol eden ara√ß."}, {a: "K√ñY", m: "k√º√ß√ºk yerle≈üim yeri."}, {a: "KUAF√ñR", m: "sa√ß bakƒ±m hizmeti veren yer."}, {a: "Pƒ∞ZZA", m: "hamur √ºzerine malzeme konan yiyecek."}, {a: "≈ûEKER", m: "tatlƒ± madde."}, {a: "MAYO", m: "y√ºzmede giyilen giysi."}, {a: "BAYRAK", m: "√ºlke simgesi."}, {a: "OYUNCAK", m: "√ßocuklarƒ±n oynadƒ±ƒüƒ± e≈üya."}, {a: "M√úZE", m: "eserlerin sergilendiƒüi yer."}, {a: "T√úNEL", m: "yer altƒ±ndan ge√ßen yol."}, {a: "Kƒ∞Lƒ∞T", m: "kapƒ±yƒ± kapayan ara√ß."}, {a: "BANDANA", m: "ba≈üa takƒ±lan giysi."}, {a: "KAFES", m: "hayvanƒ± sƒ±nƒ±rlayan yapƒ±."}, {a: "YAY", m: "ok atmada kullanƒ±lan ara√ß."}, {a: "√áƒ∞MENTO", m: "yapƒ±larda kullanƒ±lan malzeme."}, {a: "TRAFO", m: "elektrik enerjisini d√∂n√º≈üt√ºren cihaz."}, {a: "FIRIN", m: "yiyecek pi≈üirme aracƒ±."}, {a: "RADYO", m: "ses ile bilgi veren cihaz."}, {a: "KABLO", m: "elektrik veya veri ta≈üƒ±yan tel."}, {a: "TELEFON", m: "ses ile ileti≈üim aracƒ±."}, {a: "KASABA", m: "≈üehirden k√º√ß√ºk yerle≈üim yeri."}, {a: "KAHVE", m: "i√ßecek t√ºr√º."}, {a: "BASKETBOL", m: "top ile oynanan spor."}, {a: "PASTANE", m: "tatlƒ± ve yiyecek yapƒ±lan yer."}, {a: "TAVUK", m: "k√ºmes hayvanƒ±."}, {a: "KARTON", m: "kalƒ±n kaƒüƒ±t t√ºr√º."},{a: "G√úL", m: "√ßi√ßek t√ºr√º."}
        ];

        function handleGlobalClick() {
            if(!musicStarted) { bgMusic.play().catch(()=>{}); musicStarted = true; }
            document.documentElement.requestFullscreen?.();
            focusInput();
        }

        window.onload = () => {
            initGame();
            setTimeout(() => {
                document.getElementById('splash-screen').style.opacity = '0';
                setTimeout(() => document.getElementById('splash-screen').remove(), 1200);
            }, 3000);
        };

        function initGame() {
            let resimNo = (Math.floor(currentLevel / 3) % 42) + 1;
            document.body.style.backgroundImage = `linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.4)), url('bg${resimNo}.jpg')`;
            const levelData = levels[currentLevel % levels.length];
            document.getElementById('clue-text').innerText = levelData.m;
            const container = document.getElementById('word-display');
            container.innerHTML = "";
            levelData.a.split('').forEach((_, i) => {
                const box = document.createElement('div');
                box.className = 'letter-box'; box.id = 'box-' + i;
                container.appendChild(box);
            });
            updateUI(); updateCursor();
        }

        // B√ñL√úM GE√áME MANTIƒûI
        function openSkipModal() { if(coins >= 25) document.getElementById('skip-modal').style.display = 'block'; else alert("Yetersiz Jeton!"); }
        function closeSkipModal() { document.getElementById('skip-modal').style.display = 'none'; }
        
        function confirmSkip() {
            coins -= 25;
            closeSkipModal();
            const levelData = levels[currentLevel % levels.length];
            // Kelimeyi g√∂ster
            levelData.a.split('').forEach((harf, i) => {
                document.getElementById('box-' + i).innerText = harf;
                document.getElementById('box-' + i).classList.add('correct-neon');
            });
            trueSnd.play();
            setTimeout(() => { nextLevel(); }, 1500); // 1.5 saniye sonra ge√ß
        }

        function checkWin() {
            const levelData = levels[currentLevel % levels.length];
            let res = "";
            document.querySelectorAll('.letter-box').forEach(b => res += b.innerText);
            if(res.length === levelData.a.length) {
                if(res === levelData.a) {
                    trueSnd.play();
                    document.querySelectorAll('.letter-box').forEach(b => b.classList.add('correct-neon'));
                    setTimeout(() => { document.getElementById('win-modal').style.display = 'block'; }, 600);
                } else {
                    falseSnd.play();
                    document.querySelectorAll('.letter-box').forEach(b => {
                        b.style.borderColor = "red";
                        setTimeout(() => { b.innerText = ""; b.style.borderColor = "transparent"; updateCursor(); }, 800);
                    });
                }
            }
        }

        function useHint() {
            if(coins < 10) return;
            const levelData = levels[currentLevel % levels.length];
            let empty = [];
            for(let i=0; i<levelData.a.length; i++) if(document.getElementById('box-'+i).innerText === "") empty.push(i);
            if(empty.length > 0) {
                coins -= 10;
                let idx = empty[Math.floor(Math.random() * empty.length)];
                document.getElementById('box-' + idx).innerText = levelData.a[idx];
                updateUI(); updateCursor(); checkWin();
            }
        }

        function nextLevel() {
            coins += 5; currentLevel++;
            document.getElementById('win-modal').style.display = 'none';
            initGame();
        }

        function focusInput() { document.getElementById('hidden-input').focus(); }
        document.getElementById('hidden-input').addEventListener('input', (e) => {
            const val = e.target.value.toUpperCase().slice(-1);
            e.target.value = "";
            if(val.match(/[A-Zƒû√ú≈ûƒ∞√ñ√á]/)) {
                const boxes = document.querySelectorAll('.letter-box');
                for(let box of boxes) if(box.innerText === "") { box.innerText = val; updateCursor(); checkWin(); break; }
            }
        });

        function updateUI() {
            document.getElementById('coin-count').innerText = coins;
            document.getElementById('lvl-txt').innerText = currentLevel + 1;
            localStorage.setItem('wordzen_coins', coins);
            localStorage.setItem('wordzen_level', currentLevel);
        }

        function updateCursor() {
            document.querySelectorAll('.letter-box').forEach(b => b.classList.remove('cursor'));
            const boxes = document.querySelectorAll('.letter-box');
            for(let box of boxes) if(box.innerText === "") { box.classList.add('cursor'); break; }
        }
    </script>
</body>
</html>