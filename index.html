<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<title>WordZen</title>
<style>
    html,body{margin:0;padding:0;width:100%;height:100%;font-family:'Poppins',sans-serif;background:#000;color:#fff;overflow:hidden;}
    #bg-layer {position:fixed; inset:0; background-size:cover; background-position:center; opacity:0.5; z-index:-1; transition: 1s;}
    
    /* Splash Screen */
    #splash{position:fixed;top:0;left:0;width:100%;height:100%;background:#000;display:flex;align-items:center;justify-content:center;z-index:100;}
    #splash h1{font-size:3rem;letter-spacing:2px;color:#fff;animation:zoomFade 3s forwards;}
    @keyframes zoomFade{
        0%{transform:scale(1);letter-spacing:2px;opacity:1;}
        50%{transform:scale(3);letter-spacing:10px;opacity:0.8;}
        100%{transform:scale(8);letter-spacing:20px;opacity:0;}
    }

    /* Menu & Game Screens */
    .screen{display:none; position:absolute; inset:0; flex-direction:column; align-items:center; justify-content:center; text-align:center;}
    #menu{display:flex; background: rgba(0,0,0,0.4);}
    
    .menu-buttons{margin-top:30px;display:flex;flex-wrap:wrap;gap:20px;justify-content:center;}
    button{background:rgba(0,0,0,0.7);border:2px solid #0ff;color:#0ff;padding:12px 24px;font-size:1rem;border-radius:10px;cursor:pointer;transition:0.3s;box-shadow:0 0 10px #0ff;}
    button:hover{background:#0ff;color:#000;box-shadow:0 0 20px #0ff;}

    #word-container{display:flex;gap:10px;margin-bottom:20px;flex-wrap:wrap;justify-content:center;}
    .letter-box{width:50px;height:60px;border:2px solid #0f0;display:flex;align-items:center;justify-content:center;font-size:1.8rem;color:#0f0;border-radius:8px;background:rgba(0,0,0,0.6);}
    #meaning{margin:20px;font-size:1.2rem;color:#0ff;min-height:1.5em; text-shadow: 0 0 5px #000;}
    
    #progress-bar{position:absolute;top:20px;left:10%;right:10%;height:12px;background:rgba(255,255,255,0.1);border-radius:6px;overflow:hidden;border:1px solid #444;}
    #progress{height:100%;width:0%;background:linear-gradient(90deg,#0f0,#004400); transition: 0.5s;}
    
    input#mobile-input { position: absolute; top: -100px; opacity: 0; }
</style>
</head>
<body onclick="focusInput()">

<div id="bg-layer"></div>
<input type="text" id="mobile-input" autocomplete="off" autofocus>

<div id="splash"><h1>WordZen</h1></div>

<div id="menu" class="screen">
  <h2 style="color:#0ff;font-size:3.5rem; text-shadow: 0 0 15px #0ff;">WordZen</h2>
  <div class="menu-buttons">
    <button onclick="startGame()">TEK OYUNCU</button>
    <button onclick="createRoom()" style="border-color:gold; color:gold; box-shadow: 0 0 10px gold;">ODA KUR</button>
    <button onclick="joinRoom()" style="border-color:gold; color:gold;">ODAYA KATIL</button>
  </div>
</div>

<div id="game" class="screen">
  <div id="progress-bar"><div id="progress"></div></div>
  <div style="margin-bottom:10px;">SEVİYE: <span id="lvl-txt">1</span></div>
  <div id="word-container"></div>
  <div id="meaning"></div>
  <button id="nextBtn" style="display:none;" onclick="nextLevel()">SONRAKİ SEVİYE</button>
</div>

<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>

<script>
const firebaseConfig = {
    apiKey: "AIzaSyD-iT8DyWapzSChkUtVHFytZVSS5Ec9HaA",
    authDomain: "wordzen-d82f1.firebaseapp.com",
    databaseURL: "https://wordzen-d82f1-default-rtdb.firebaseio.com",
    projectId: "wordzen-d82f1",
    storageBucket: "wordzen-d82f1.firebasestorage.app",
    messagingSenderId: "631323474078",
    appId: "1:631323474078:web:198ce56d58bd11d842e38f"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.database();

const library = [
    {a: "PANDA", m: "büyük, siyah beyaz ayı türü."},
    {a: "KUMANDA", m: "cihazları uzaktan kontrol etme aracı."},
    {a: "ÇAMAŞIR", m: "yıkanacak giysi veya kumaş."},
    {a: "MERMER", m: "yapılarda kullanılan taş türü."},
    {a: "BALİNA", m: "büyük deniz memelisi."},
    {a: "JAPONYA", m: "asya kıtasında ada ülkesi."},
    {a: "ZİNCİR", m: "birbirine bağlı halka dizisi."},
    {a: "DİNOZOR", m: "çok eski çağlarda yaşamış dev hayvan."},
    {a: "FOSFOR", m: "ışık saçan kimyasal madde."},
    {a: "BİSİKLET", m: "iki tekerlekli ulaşım aracı."},
    {a: "AKVARYUM", m: "içinde su ve balıkların yaşadığı kap."},
    {a: "ELDİVEN", m: "eli koruyan giysi."},
    {a: "KARPUZ", m: "büyük çekirdekli meyve."},
    {a: "ŞEMSİYE", m: "yağmurdan veya güneşten koruyan araç."},
    {a: "TİYATRO", m: "sahne üzerinde gösteri yapılan yer."},
    {a: "PİYANO", m: "tuşlu müzik aleti."},
    {a: "AVOKADO", m: "yeşil meyve türü."},
    {a: "TELEFERİK", m: "ip üzerinde hareket eden araç."},
    {a: "İSTASYON", m: "taşıtların durduğu yer."},
{a: "PANDA", m: "büyük, siyah beyaz ayı türü."},
{a: "KUMANDA", m: "cihazları uzaktan kontrol etme aracı."},
{a: "ÇAMAŞIR", m: "yıkanacak giysi veya kumaş."},
{a: "MERMER", m: "yapılarda kullanılan taş türü."},
{a: "BALİNA", m: "büyük deniz memelisi."},
{a: "JAPONYA", m: "asya kıtasında ada ülkesi."},
{a: "ZİNCİR", m: "birbirine bağlı halka dizisi."},
{a: "DİNOZOR", m: "çok eski çağlarda yaşamış dev hayvan."},
{a: "FOSFOR", m: "ışık saçan kimyasal madde."},
{a: "BİSİKLET", m: "iki tekerlekli ulaşım aracı."},
{a: "KONSER", m: "müzik etkinliği."},
{a: "SARDALYE", m: "denizde yaşayan küçük balık."},
{a: "MANYETİK", m: "çeken veya iten özelliğe sahip."},
{a: "YELKENCİ", m: "yelkenli ile gezen kişi."},
{a: "MORAL", m: "ruhsal durum ve motivasyon."},
{a: "ŞAMPUAN", m: "saç temizleme ürünü."},
{a: "KAFES", m: "hayvanları sınırlamak için yapılan yapı."},
{a: "TURUNCU", m: "renk türü."},
{a: "PALET", m: "taşıma veya resim yapma aracı."},
{a: "ÇİKOLATA", m: "tatlı ve kakao içerikli yiyecek."},
{a: "MUM", m: "ışık veren balmumu aracı."},
{a: "PAPATYA", m: "beyaz yapraklı çiçek."},
{a: "KÜRE", m: "yuvarlak cisim."},
{a: "İPLİK", m: "dokuma veya dikiş için kullanılan ip."},
{a: "RADYO", m: "ses ile bilgi veya müzik veren cihaz."},
{a: "KÖRÜK", m: "ateşi güçlendiren araç."},
{a: "TİYATRO", m: "sahne üzerinde gösteri yapılan yer."},
{a: "KREM", m: "cilt için hazırlanan karışım."},
{a: "ŞEMSİYE", m: "yağmurdan veya güneşten koruyan araç."},
{a: "FİLM", m: "görüntü ve sesle hikaye anlatımı."},
{a: "ÖRDEK", m: "suda yaşayan kuş türü."},
{a: "SANDALYE", m: "oturmak için kullanılan mobilya."},
{a: "FİYONK", m: "giysi veya eşya süsleme aracı."},
{a: "MAYO", m: "yüzmede giyilen giysi."},
{a: "KAPİTAL", m: "ekonomi ve sermaye terimi."},
{a: "ÇATAL", m: "yemek yerken kullanılan araç."},
{a: "KAKTÜS", m: "suda yaşamaya uygun bitki türü."},
{a: "PİANO", m: "tuşlu müzik aleti."},
{a: "KOLYE", m: "boyuna takılan süs eşyası."},
{a: "ŞAL", m: "boyna sarılan giysi."},
{a: "BİSİKLETÇİ", m: "bisiklet kullanan kişi."},
{a: "AVOKADO", m: "yeşil meyve türü."},
{a: "KALEMTRAŞ", m: "kalem uçlarını açmaya yarayan araç."},
{a: "KONUT", m: "yaşanılan yapı."},
{a: "YANGIN", m: "kontrolsüz ateş durumu."},
{a: "TAVŞAN", m: "kemirgen hayvan."},
{a: "MAYMUN", m: "memeli hayvan türü."},
{a: "ÇEKİÇ", m: "çivi çakmak için kullanılan alet."},
{a: "PATEN", m: "tekerlekli ayakkabı ile kayma aracı."},
{a: "MİNİBÜS", m: "küçük toplu taşıma aracı."},
{a: "KÜLAH", m: "dondurma veya başa takılan giysi."},
{a: "BİRLİK", m: "bir araya gelme durumu."},
{a: "KAZ", m: "suda yaşayan kuş türü."},
{a: "KAVANOZ", m: "yiyecek saklama kabı."},
{a: "MİNARE", m: "camilerin kule benzeri yapısı."},
{a: "SİLAH", m: "savunma veya saldırı aracı."},
{a: "ŞAM", m: "mum türü."},
{a: "İSTASYON", m: "taşıtların durduğu yer."},
{a: "FENERBOL", m: "hayali oyun veya spor adı."},
{a: "KUŞE", m: "parlak kaplı kağıt türü."},
{a: "BAKIR", m: "kırmızımsı metal."},
{a: "BÜYÜCÜ", m: "sihir yapan kişi."},
{a: "ÇÖREK", m: "hamurdan yapılan yiyecek."},
{a: "TÜP", m: "gaz veya sıvı saklama kabı."},
{a: "KUMPAS", m: "çizim veya ölçüm aracı."},
{a: "PERDE", m: "ışık veya görüşü engelleyen giysi veya eşya."},
{a: "TOPRAK", m: "bitkilerin yetiştiği katman."},
{a: "KURABİYE", m: "tatlı hamur yiyeceği."},
{a: "TEKERLEK", m: "taşıtlarda kullanılan yuvarlak parça."},
{a: "SALON", m: "oturma veya etkinlik odası."},
{a: "HAVLU", m: "kurulama için kullanılan bez."},
{a: "İLAÇ", m: "hastalık için kullanılan madde."},
{a: "KÜPE", m: "küpe veya kulak süsü."},
{a: "BLOKNOT", m: "yazı yazma defteri."},
{a: "KASE", m: "yiyecek veya içecek konulan kap."},
{a: "SÖZLÜK", m: "kelimelerin anlamlarını gösteren kitap."},
{a: "TAVLA", m: "masa oyunu türü."},
{a: "BALIKÇI", m: "balık avlayan kişi."},
{a: "ÇÖL", m: "az yağış alan kurak alan."},
{a: "TELEFERİK", m: "ip üzerinde hareket eden araç."},
{a: "ÇERÇEVE", m: "resim veya fotoğrafı çevreleyen yapı."},
{a: "YELKEN", m: "rüzgarla ilerleyen taşıt parçası."},
{a: "LİMONATA", m: "limonla yapılan içecek."},
{a: "MANYON", m: "küçük araç parçası."},
{a: "PİRE", m: "küçük kan emici böcek."},
{a: "KİRAZ", m: "tatlı kırmızı meyve."},
{a: "BİSİKLET", m: "iki tekerlekli ulaşım aracı."}
 (ilk 100’den sonra tamamen yeni ve karışık):
{a: "AKVARYUM", m: "içinde su ve balıkların yaşadığı kap."},
{a: "BİBERİYE", m: "kokulu bitki."},
{a: "CİVCİV", m: "yeni doğmuş tavuk."},
{a: "DONDURMA", m: "soğuk tatlı yiyecek."},
{a: "ELDİVEN", m: "eli koruyan giysi."},
{a: "FİYAT", m: "bir şeyin değeri."},
{a: "GAZLAMA", m: "ince hamurla yapılan yiyecek."},
{a: "HARBİYE", m: "askeri okul."},
{a: "ISITICI", m: "sıcaklık veren cihaz."},
{a: "İPLİKÇİ", m: "iplik üreten veya satan kişi."},
{a: "JOKER", m: "oyunda özel kart veya karakter."},
{a: "KARPUZ", m: "büyük çekirdekli meyve."},
{a: "LİMON", m: "ekşi meyve."},
{a: "MANDALİNA", m: "tatlı ve turuncu meyve."},
{a: "NANE", m: "kokulu bitki."},
{a: "OCAK", m: "yemek pişirme aracı."},
{a: "PİŞİRME", m: "yemek yapma işlemi."},
{a: "RANDEVU", m: "önceden belirlenmiş görüşme."},
{a: "SALON", m: "oturma veya etkinlik odası."},
{a: "TAVUK", m: "kümes hayvanı."},
{a: "ÜZÜM", m: "küçük yuvarlak meyve."},
{a: "VİTRİN", m: "sergi veya satış için camlı yer."},
{a: "ZAR", m: "oyun için kullanılan küçük küp."},
{a: "AFİŞ", m: "duvara asılan ilan veya resim."},
{a: "BANDANA", m: "başa veya boyna takılan giysi."},
{a: "ÇİNKO", m: "metallerden biri."},
{a: "DİVAN", m: "oturma mobilyası."},
{a: "GİZEM", m: "anlaşılmayan şey."},
{a: "HİLE", m: "aldatma veya düzenbazlık."},
{a: "İLAÇ", m: "hastalık için kullanılan madde."},
{a: "JAPON", m: "japonya halkı veya kültürü."},
{a: "KARTON", m: "kalın kağıt türü."},
{a: "MANYETİK", m: "çeken veya iten özellik."},
{a: "NAKİT", m: "para türü."},
{a: "OKYANUS", m: "çok büyük tuzlu su kütlesi."},
{a: "PANTOLON", m: "alt giysi."},
{a: "RAF", m: "eşya koymak için düz alan."},
{a: "SARKAÇ", m: "hareket eden ağırlık."},
{a: "TÜNEL", m: "yer altından geçen yol."},
{a: "ÜNİVERSİTE", m: "yüksek öğrenim kurumu."},
{a: "VALİZ", m: "eşya taşımaya yarayan çanta."},
{a: "YELKEN", m: "rüzgarla ilerleyen taşıt parçası."},
{a: "ZAMBAK", m: "çiçek türü."},
{a: "ALFABE", m: "harflerin belirli sıralaması."},
{a: "ÇİMENTO", m: "yapılarda kullanılan malzeme."},
{a: "DİKİŞ", m: "ip ile yapılan birleştirme."},
{a: "EVREN", m: "var olan her şey."},
{a: "FOTOGRAF", m: "resim veya görüntü kaydı."},
{a: "GÜL", m: "çiçek türü."},
{a: "HASTANE", m: "tedavi edilen yer."},
{a: "IŞIK", m: "Görmeyi sağlayan aydınlık enerji."},
{a: "İSTASYON", m: "taşıtların durduğu yer."},
{a: "JEST", m: "hareketle anlatım."},
{a: "KASA", m: "eşya veya para koyulan kutu."},
{a: "LİMONATA", m: "limonla yapılan içecek."},
{a: "MAKAS", m: "kesmek için kullanılan araç."},
{a: "MİNARE", m: "camilerin kule benzeri yapısı."},
{a: "NAKKAŞ", m: "resim veya süsleme yapan kişi."},
{a: "PİRE", m: "küçük kan emici böcek."},
{a: "RAFİNE", m: "arıtılmış veya işlenmiş."},
{a: "SALATALIK", m: "sebze türü."},
{a: "TİYATRO", m: "sahne üzerinde gösteri yapılan yer."},
{a: "ÜZÜM", m: "küçük yuvarlak meyve."},
{a: "VİTRİN", m: "sergi veya satış için camlı yer."},
{a: "YANGIN", m: "kontrolsüz ateş durumu."},
{a: "ZİYADE", m: "fazlalık veya çokluk."},
{a: "AKORDİYON", m: "müzik çalmak için kullanılan enstrüman."},
{a: "BALİNA", m: "büyük deniz memelisi."},
{a: "ÇİNKO", m: "metallerden biri."},
{a: "DİNOZOR", m: "çok eski çağlarda yaşamış dev hayvan."},
{a: "ELMA", m: "yemeye uygun meyve."},
{a: "FOSFOR", m: "ışık saçan kimyasal madde."},
{a: "HİLE", m: "aldatma veya düzenbazlık."},
{a: "JAZZ", m: "müzik türü."},
{a: "KARTAL", m: "büyük yırtıcı kuş."},
{a: "LAVABO", m: "el veya yüz yıkanan yer."},
{a: "MANDAL", m: "eşya tutucu."},
{a: "MÜZİK", m: "sesle yapılan sanat."},
{a: "NAKİT", m: "para türü."},
{a: "OCAK", m: "yemek pişirme aracı."},
{a: "PALET", m: "taşıma veya resim yapma aracı."},
{a: "RAF", m: "eşya koymak için düz alan."},
{a: "SALON", m: "oturma veya etkinlik odası."},
{a: "TÜP", m: "gaz veya sıvı saklama kabı."},
{a: "ÜNİVERSİTE", m: "yüksek öğrenim kurumu."},
{a: "VALİZ", m: "eşya taşımaya yarayan çanta."},
{a: "YELKEN", m: "Rüzgar gücüyle tekneyi yürüten bez."},
{a: "ZAMBAK", m: "çiçek türü."},
{a: "ÇÖL", m: "az yağış alan kurak alan."},
{a: "TELEFERİK", m: "ip üzerinde hareket eden araç."},
{a: "ÇERÇEVE", m: "resim veya fotoğrafı çevreleyen yapı."},
{a: "KAZ", m: "suda yaşayan kuş türü."},
{a: "KUM", m: "ince taneli toprak parçası."},
{a: "TAVLA", m: "masa oyunu türü."},
{a: "KURABİYE", m: "tatlı hamur yiyeceği."},
{a: "ÇÖREK", m: "hamurdan yapılan yiyecek."},
{a: "PATEN", m: "tekerlekli ayakkabı ile kayma aracı."},
{a: "MİNİBÜS", m: "küçük toplu taşıma aracı."},
{a: "KÜLAH", m: "dondurma veya başa takılan giysi."},
{a: "NOT", m: "yazı yazma defteri."},
{a: "TEKERLEK", m: "taşıtlarda kullanılan yuvarlak parça."},
{a: "HAVLU", m: "kurulama için kullanılan bez."},
{a: "KÜPE", m: "kulak süsü."},
{a: "KAZAN", m: "yemek veya sıvı pişirme kabı."},
{a: "KUMPAS", m: "çizim veya ölçüm aracı."},
{a: "PERDE", m: "ışık veya görüşü engelleyen giysi veya eşya."}


];

let level = parseInt(localStorage.getItem('wz_level')) || 0;
let currentInput = "";
let backgrounds = [
    "https://images.unsplash.com/photo-1448375240586-882707db888b?w=1200", // Orman
    "https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=1200", // Deniz
    "https://images.unsplash.com/photo-1464822759023-fed622ff2c3b?w=1200"  // Dağ
];

// Splash bittikten sonra menüye geç
setTimeout(() => {
    document.getElementById('splash').style.display = 'none';
    updateBG();
}, 3000);

function updateBG() {
    let bgIndex = Math.floor(level / 10) % backgrounds.length;
    document.getElementById('bg-layer').style.backgroundImage = `url('${backgrounds[bgIndex]}')`;
}

function focusInput() { document.getElementById('mobile-input').focus(); }

function startGame() {
    document.getElementById('menu').style.display = 'none';
    document.getElementById('game').style.display = 'flex';
    loadWord();
}

function loadWord() {
    const container = document.getElementById('word-container');
    container.innerHTML = '';
    currentInput = '';
    document.getElementById('meaning').textContent = '';
    document.getElementById('nextBtn').style.display = 'none';
    document.getElementById('lvl-txt').textContent = level + 1;
    
    let targetWord = library[level % library.length].a;
    for(let i=0; i<targetWord.length; i++) {
        let box = document.createElement('div');
        box.className = 'letter-box';
        container.appendChild(box);
    }
    updateProgress();
    focusInput();
}

document.getElementById('mobile-input').addEventListener('input', (e) => {
    let char = e.target.value.slice(-1).toUpperCase().replace('i','İ');
    let targetWord = library[level % library.length].a;
    
    if(currentInput.length < targetWord.length && /[A-ZÇĞİÖŞÜ]/.test(char)) {
        currentInput += char;
        let boxes = document.getElementsByClassName('letter-box');
        boxes[currentInput.length - 1].textContent = char;
        
        if(currentInput.length === targetWord.length) {
            checkAnswer();
        }
    }
    e.target.value = '';
});

function checkAnswer() {
    let targetWord = library[level % library.length].a;
    if(currentInput === targetWord) {
        document.getElementById('meaning').textContent = library[level % library.length].m;
        document.getElementById('nextBtn').style.display = 'inline-block';
        level++;
        localStorage.setItem('wz_level', level);
    } else {
        setTimeout(() => {
            currentInput = '';
            Array.from(document.getElementsByClassName('letter-box')).forEach(b => b.textContent = '');
        }, 500);
    }
}

function nextLevel() {
    updateBG();
    loadWord();
}

function updateProgress() {
    let p = ((level % 10) / 10) * 100;
    document.getElementById('progress').style.width = p + '%';
}

// 1v1 Online Fonksiyonları (Firebase)
let roomId = "";
function createRoom() {
    roomId = Math.floor(1000 + Math.random()*8999).toString();
    db.ref('rooms/' + roomId).set({ p1_lvl: level, status: "waiting" });
    alert("Oda Kuruldu! Kod: " + roomId);
    startGame();
}

function joinRoom() {
    let id = prompt("Oda Kodunu Girin:");
    if(id) {
        roomId = id;
        startGame();
    }
}
</script>
</body>
</html>
